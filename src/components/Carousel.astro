---
// Carousel.astro
const { images } = Astro.props;
---

<div class="carousel-container my-8">
  <div class="swiper">
    <div class="swiper-wrapper">
      {images.map(image => (
        <div class="swiper-slide">
          <img src={image.src} alt={image.alt} class="w-full h-auto rounded-lg shadow-md" />
        </div>
      ))}
    </div>
    <div class="swiper-pagination"></div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
  </div>
</div>

<!-- Cargamos Swiper desde CDN para asegurar que sea estÃ¡tico -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />
<script is:inline src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js" defer></script>

<script is:inline>
  document.addEventListener('DOMContentLoaded', () => {
    new Swiper('.swiper', {
      slidesPerView: 1,
      spaceBetween: 30,
      loop: true,
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      breakpoints: {
        640: {
          slidesPerView: 2,
        },
        1024: {
          slidesPerView: 3,
        },
      }
    });
  });
</script>

<style>
  .carousel-container {
    width: 100%;
    overflow: hidden;
  }
  
  .swiper {
    width: 100%;
    height: 100%;
  }
  
  .swiper-slide {
    text-align: center;
    display: flex;
    justify-content: center;
    align-items: center;
  }
</style>